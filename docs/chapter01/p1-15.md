# 练习1.15
&emsp;&emsp;在角（用弧度描述）$x$足够小时，其正弦值可以用$\sin x \approx x$计算，而三角恒等式：$$\sin x = 3 \sin \frac{x}{3} - 4 \sin^3 \frac{x}{3}$$可以减小$\sin$的参数的大小（为完成这一练习，我们认为一个角是“足够小”，如果其数值不大于0.1弧度）。这些想法都体现在下述过程中：  
```lisp
(define (cube x) (* x x x))
(define (p x) (- (* 3 x) (* 4 (cube x))))
(define (sine angle)
    (if (not (> (abs angle) 0.1))
    angle
    (p (sine (/ angle 3.0)))))
```
&emsp;&emsp;a)在求值`(sine 12.15)`时，`p`将被使用多少次？  
&emsp;&emsp;b)在求值`(sine a)`时，由过程`sine`所产生的计算过程使用的空间和步数（作为$a$的函数）增长的阶是什么？  
**解答：**  
a) 将代码执行，并使用`trace`追踪`p`的调用，代码见`src\practices\ch01\p1-15.scm`
```shell
PS > scheme "src\practices\ch01\p\p1-15.scm"
Chez Scheme Version 9.5
Copyright 1984-2017 Cisco Systems, Inc.

> (trace p sine)
(p sine)
> (sine 12.15)
|(sine 12.15)
| (sine 4.05)
| |(sine 1.3499999999999999)
| | (sine 0.44999999999999996)
| | |(sine 0.15)
| | | (sine 0.049999999999999996)
| | | 0.049999999999999996
| | |(p 0.049999999999999996)
| | |0.1495
| | (p 0.1495)
| | 0.4351345505
| |(p 0.4351345505)
| |0.9758465331678772
| (p 0.9758465331678772)
| -0.7895631144708228
|(p -0.7895631144708228)
|-0.39980345741334
-0.39980345741334
>
```
&emsp;&emsp;可观察到`p`共被调用了5次。  

b)由上面的执行结果可以得出，空间和步数的增长跟`p`的调用次数成正比，也就是说与递归次数是线性关系。  
&emsp;&emsp;当$|a|<0.1$时，递归次数为0，当$|a|>0.1$时，递归的最大次数需满足：$|a|/(3^n) < 0.1$，可得递归次数为$n<\log_3(10a)$。  
&emsp;&emsp;所以，该计算过程空间和步数的阶为$R(a)=\Theta(\log a)$
